<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>DilutionExperiment</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="An application to automatically count cells using wavelet transformation"/>
    <meta name="author" content="Jonathan Ott"/>

    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet"/>
    <meta http-equiv="X-UA-Compatible" content="IE=11" >
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <link type="text/css" rel="stylesheet" href="/CellCounter/content/style.css" /> <!--/CellCounter-->
    <link type="text/css" rel="stylesheet" href="/CellCounter/styles/CSBStyles.css" /> <!--/CellCounter-->
    <script type="text/javascript" src="/CellCounter/content/tips.js"></script> <!--/CellCounter-->
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="http://fsharp.org">fsharp.org</a></li>
          <li><a href="https://github.com/Joott/CellCounter">github page</a></li>
        </ul>
        <h3 class="muted"><a href="/CellCounter/index.html">CellCounter</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          
<h2><a name="Counting-results" class="anchor" href="#Counting-results">Counting results</a></h2>
<p>To determine the effectiveness of the Cell Counter, I compared it to two different other counting methods. One of them was manual counting using the
<a href="https://en.wikipedia.org/wiki/Hemocytometer">Neubauer counting chamber</a>, the other was counting the cells with a <a href="https://en.wikipedia.org/wiki/Coulter_counter">Coulter Counter</a>.
For that i took a cell suspension with ~1.35 * 10^7 cells and set up a serial dilution by always halving the amount up to 1:16.
I took 3 measurements for each timepoint. One measurement for both, the Cell Counter and the manual counting, consists of three seperate images.</p>
<p>Here you can see the result of those measurements:</p>
<table class="pre"><tr><td><pre><code>No value has been returned</code></pre></td></tr></table>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
The Y-error bar represents the standard deviation of the 3 measurements taken at each dilution step.
<p>As you can see in this little test, all three methods give comparable results regarding the amount of cells/ml. While the manual counting of cells is
a tedious approach, the Cell Counter has it's merits in efficiency compared to the Coulter Counter. All it needs are pictures taken under a microscope, which
is easily done, even more so if it is done for more than one culture at once since it is only swapping of objectives then. It is also usefull for the
cell counting in bioreactors. Bioreactors have to be monitored constantly for possible infections under the microscope with picture documentation, so one can use those
pictures as input for the Cell Counter at the same time.</p>
<h2><a name="Experiment-Data" class="anchor" href="#Experiment-Data">Experiment Data</a></h2>
<p>For those of you, who want to replicate the experiment, here are the parameters used in the functions and the picture data:</p>
<p>Camera and microscope</p>
<ul>
<li>Pixel Size     : 6.45x6.45 microns</li>
<li>Binning        : 2x2</li>
<li>Camera Mount   : 2x</li>
<li>Magnification  : 20x</li>
</ul>
<p>Cells</p>
<ul>
<li>Diameter: 9.5 microns</li>
</ul>
<p><a href="https://1drv.ms/f/s!Al3ycUpvciEdkOEhELLpMhTADfLLvA">Here</a> are the pictures for the program to analyze.</p>
<p>The corresponding code looks like this:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs18', 35)" onmouseover="showTip(event, 'fs18', 35)" class="id">dimension</span> <span class="o">=</span> <span class="id">Filter</span><span class="pn">.</span><span class="id">squareCalculator</span> <span class="n">6.45</span> <span class="n">2.</span> <span class="n">20.</span> <span class="n">2.</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs19', 36)" onmouseover="showTip(event, 'fs19', 36)" class="id">wvRadius</span> <span class="o">=</span> <span class="id">Filter</span><span class="pn">.</span><span class="id">cellRadiusCalculator</span> <span class="n">9.5</span> <span class="n">6.45</span> <span class="n">2.</span> <span class="n">20.</span> <span class="n">2.</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs20', 37)" onmouseover="showTip(event, 'fs20', 37)" class="fn">processFolders</span> <span onmouseout="hideTip(event, 'fs21', 38)" onmouseover="showTip(event, 'fs21', 38)" class="id">folderPath</span> <span onmouseout="hideTip(event, 'fs22', 39)" onmouseover="showTip(event, 'fs22', 39)" class="id">height</span> <span onmouseout="hideTip(event, 'fs23', 40)" onmouseover="showTip(event, 'fs23', 40)" class="id">width</span> <span onmouseout="hideTip(event, 'fs24', 41)" onmouseover="showTip(event, 'fs24', 41)" class="id">radius</span> <span onmouseout="hideTip(event, 'fs25', 42)" onmouseover="showTip(event, 'fs25', 42)" class="id">multiplier</span> <span class="o">=</span> 
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs26', 43)" onmouseover="showTip(event, 'fs26', 43)" class="id">subfolders</span>  <span class="o">=</span> <span onmouseout="hideTip(event, 'fs27', 44)" onmouseover="showTip(event, 'fs27', 44)" class="rt">Directory</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs28', 45)" onmouseover="showTip(event, 'fs28', 45)" class="id">GetDirectories</span> <span onmouseout="hideTip(event, 'fs21', 46)" onmouseover="showTip(event, 'fs21', 46)" class="id">folderPath</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs29', 47)" onmouseover="showTip(event, 'fs29', 47)" class="id">result</span>      <span class="o">=</span> <span onmouseout="hideTip(event, 'fs26', 48)" onmouseover="showTip(event, 'fs26', 48)" class="id">subfolders</span>
                      <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs30', 49)" onmouseover="showTip(event, 'fs30', 49)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs31', 50)" onmouseover="showTip(event, 'fs31', 50)" class="id">mapi</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs32', 51)" onmouseover="showTip(event, 'fs32', 51)" class="id">i</span> <span onmouseout="hideTip(event, 'fs33', 52)" onmouseover="showTip(event, 'fs33', 52)" class="id">folder</span> <span class="k">-&gt;</span>
                            <span onmouseout="hideTip(event, 'fs34', 53)" onmouseover="showTip(event, 'fs34', 53)" class="fn">printfn</span> <span class="s">&quot;processing folder </span><span class="pf">%i</span><span class="s"> of </span><span class="pf">%i</span><span class="s">&quot;</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs32', 54)" onmouseover="showTip(event, 'fs32', 54)" class="id">i</span><span class="o">+</span><span class="n">1</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs26', 55)" onmouseover="showTip(event, 'fs26', 55)" class="id">subfolders</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs35', 56)" onmouseover="showTip(event, 'fs35', 56)" class="id">Length</span>
                            <span class="id">Pipeline</span><span class="pn">.</span><span class="id">processImages</span> <span onmouseout="hideTip(event, 'fs33', 57)" onmouseover="showTip(event, 'fs33', 57)" class="id">folder</span> <span onmouseout="hideTip(event, 'fs22', 58)" onmouseover="showTip(event, 'fs22', 58)" class="id">height</span> <span onmouseout="hideTip(event, 'fs23', 59)" onmouseover="showTip(event, 'fs23', 59)" class="id">width</span> <span onmouseout="hideTip(event, 'fs24', 60)" onmouseover="showTip(event, 'fs24', 60)" class="id">radius</span> <span onmouseout="hideTip(event, 'fs25', 61)" onmouseover="showTip(event, 'fs25', 61)" class="id">multiplier</span><span class="pn">)</span> 
    <span onmouseout="hideTip(event, 'fs29', 62)" onmouseover="showTip(event, 'fs29', 62)" class="id">result</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs36', 63)" onmouseover="showTip(event, 'fs36', 63)" class="id">processAll</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs20', 64)" onmouseover="showTip(event, 'fs20', 64)" class="fn">processFolders</span> <span class="s">@&quot;...\Dilution\CoulterCounter&quot;</span>
                    <span onmouseout="hideTip(event, 'fs18', 65)" onmouseover="showTip(event, 'fs18', 65)" class="id">dimension</span> <span onmouseout="hideTip(event, 'fs18', 66)" onmouseover="showTip(event, 'fs18', 66)" class="id">dimension</span> <span onmouseout="hideTip(event, 'fs19', 67)" onmouseover="showTip(event, 'fs19', 67)" class="id">wvRadius</span> <span class="n">0.2</span>
</code></pre></td>
</tr>
</table>
<p>The data for the manual counting can be found <a href="https://1drv.ms/f/s!Al3ycUpvciEdkOEn8fGtLj7uMFQp4A">here</a>, and the Coulter Counter data is <a href="https://1drv.ms/f/s!Al3ycUpvciEdkOEgEXHeieR94E2GGw">here</a>.</p>
<p>A more in depth explanation how to adapt the functions for your use can be found <a href="FunctionExplanation.html">here</a></p>

<div class="tip" id="fs1">namespace Microsoft.FSharp</div>
<div class="tip" id="fs2">namespace System</div>
<div class="tip" id="fs3">namespace System.IO</div>
<div class="tip" id="fs4">val cellCounter : float []</div>
<div class="tip" id="fs5">val cellCounterStabw : float []</div>
<div class="tip" id="fs6">val manual : float []</div>
<div class="tip" id="fs7">val manualStabw : float []</div>
<div class="tip" id="fs8">val coulterCounter : float []</div>
<div class="tip" id="fs9">val coulterCounterStabw : float []</div>
<div class="tip" id="fs10">val increments : string []</div>
<div class="tip" id="fs11">val xAxis : title:&#39;a -&gt; &#39;b</div>
<div class="tip" id="fs12">val title : &#39;a</div>
<div class="tip" id="fs13">val yAxis : title:&#39;a -&gt; &#39;b</div>
<div class="tip" id="fs14">val chartCellCounter : obj</div>
<div class="tip" id="fs15">val chartManual : obj</div>
<div class="tip" id="fs16">val chartCoulterCounter : obj</div>
<div class="tip" id="fs17">val combinedChart : obj</div>
<div class="tip" id="fs18">val dimension : obj</div>
<div class="tip" id="fs19">val wvRadius : obj</div>
<div class="tip" id="fs20">val processFolders : folderPath:string -&gt; height:&#39;a -&gt; width:&#39;b -&gt; radius:&#39;c -&gt; multiplier:&#39;d -&gt; &#39;e []</div>
<div class="tip" id="fs21">val folderPath : string</div>
<div class="tip" id="fs22">val height : &#39;a</div>
<div class="tip" id="fs23">val width : &#39;b</div>
<div class="tip" id="fs24">val radius : &#39;c</div>
<div class="tip" id="fs25">val multiplier : &#39;d</div>
<div class="tip" id="fs26">val subfolders : string []</div>
<div class="tip" id="fs27">type Directory =<br />&#160;&#160;static member CreateDirectory : path:string -&gt; DirectoryInfo + 1 overload<br />&#160;&#160;static member Delete : path:string -&gt; unit + 1 overload<br />&#160;&#160;static member EnumerateDirectories : path:string -&gt; IEnumerable&lt;string&gt; + 2 overloads<br />&#160;&#160;static member EnumerateFileSystemEntries : path:string -&gt; IEnumerable&lt;string&gt; + 2 overloads<br />&#160;&#160;static member EnumerateFiles : path:string -&gt; IEnumerable&lt;string&gt; + 2 overloads<br />&#160;&#160;static member Exists : path:string -&gt; bool<br />&#160;&#160;static member GetAccessControl : path:string -&gt; DirectorySecurity + 1 overload<br />&#160;&#160;static member GetCreationTime : path:string -&gt; DateTime<br />&#160;&#160;static member GetCreationTimeUtc : path:string -&gt; DateTime<br />&#160;&#160;static member GetCurrentDirectory : unit -&gt; string<br />&#160;&#160;...</div>
<div class="tip" id="fs28">Directory.GetDirectories(path: string) : string []<br />Directory.GetDirectories(path: string, searchPattern: string) : string []<br />Directory.GetDirectories(path: string, searchPattern: string, searchOption: SearchOption) : string []</div>
<div class="tip" id="fs29">val result : &#39;e []</div>
<div class="tip" id="fs30">module Array<br /><br />from Microsoft.FSharp.Collections</div>
<div class="tip" id="fs31">val mapi : mapping:(int -&gt; &#39;T -&gt; &#39;U) -&gt; array:&#39;T [] -&gt; &#39;U []</div>
<div class="tip" id="fs32">val i : int</div>
<div class="tip" id="fs33">val folder : string</div>
<div class="tip" id="fs34">val printfn : format:Printf.TextWriterFormat&lt;&#39;T&gt; -&gt; &#39;T</div>
<div class="tip" id="fs35">property System.Array.Length: int</div>
<div class="tip" id="fs36">val processAll : obj []</div>

        </div>
        <div class="span3">
          <img src="/CellCounter/img/logo.png" alt="F# Project" style="width:150px;margin:10px" />  
          <ul class="nav nav-list" id="menu" style="margin-top: 20px;">
              <li class="nav-header">CellCounter</li>
              <li><a href="/CellCounter/index.html">Home page</a></li>
              <li class="divider"></li>
              <li><a href="https://github.com/Joott/CellCounter">Source Code on GitHub</a></li>
              <li><a href="/CellCounter/license.html">License</a></li>
              <li><a href="/CellCounter/release-notes.html">Release Notes</a></li>

              <li class="nav-header">Getting started</li>
              <li><a href="/CellCounter/FunctionExplanation.html">Function Explanation</a></li>
              <li><a href="/CellCounter/DilutionExperiment.html">Counting Experiment</a></li>

              <li class="nav-header">Documentation</li>
              <li><a href="/CellCounter/reference/index.html">API Reference</a></li>
          </ul>
        </div>
      </div>
    </div>
    <a href="https://github.com/Joott/CellCounter"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"/></a>
  </body>
  </html>
